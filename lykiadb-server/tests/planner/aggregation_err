#[name=nested_aggregate_not_allowed, run=plan]>
SELECT avg(1 + avg(id)) as average FROM books b;

---err

Plan(NestedAggregationNotAllowed(Span { start: 15, end: 22, line: 0, line_end: 0 }))

#[name=aggregate_in_group_by_not_allowed, run=plan]>
SELECT id FROM books b group by avg(id);

---err

Plan(AggregationNotAllowed(Span { start: 32, end: 39, line: 0, line_end: 0 }, "GROUP BY"))

#[name=having_without_aggregate_not_allowed, run=plan]>
SELECT publisher_id from books having release_year > 2000;

---err

Plan(HavingWithoutAggregationNotAllowed(Span { start: 38, end: 57, line: 0, line_end: 0 }))

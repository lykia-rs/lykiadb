#[name=nested_0, run=interpreter]>

var $a = "global a";
var $b = "global b";
var $c = "global c";
{
    var $a = "outer a";
    var $b = "outer b";
    {
        var $a = "inner a";
        testutil::print($a);
        testutil::print($b);
        testutil::print($c);
    }
    testutil::print($a);
    testutil::print($b);
    testutil::print($c);
}
testutil::print($a);
testutil::print($b);
testutil::print($c);

---

inner a
outer b
global c
outer a
outer b
global c
global a
global b
global c


#[name=nested_1, run=interpreter]>

function $fn_block() {
    var $a = "global";
    {
        var $a = "block";
        testutil::print($a);
    }
    testutil::print($a);
};

$fn_block();
testutil::print($a);

---

block
global

---err

Environment(Other { message: "Variable '$a' was not found" })

--->

testutil::print($a);

---

block
global

---err

Environment(Other { message: "Variable '$a' was not found" })
Environment(Other { message: "Variable '$a' was not found" })
